{"version":3,"sources":["../scripts/main.jsx"],"names":["TodoList","React","createClass","getInitialState","console","log","title","todos","todoContent","componentDidMount","setTimeout","props","map","text","index","isEditing","textToUpdate","setState","state","todoContentPlaceholder","bind","propTypes","PropTypes","array","isRequired","string","createTodo","e","preventDefault","trim","push","resetTitleAndTodoContent","toggleEdit","parseInt","target","getAttribute","updateEditingText","value","updateTodo","cancelEdit","resetEdit","todo","removeTodo","splice","setTitle","render","_this","length","children","defaultProps","data","ReactDOM","document","getElementById"],"mappings":"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","file":"main.js","sourcesContent":["(function() {\n    var TodoList = React.createClass({\n\n        // getInitialState() executes exactly once during the lifecycle of the component and sets up the initial state of the component.\n        getInitialState: function() {\n            console.log('getInitialState');\n            return {\n                title: '',\n                todos: [],\n                todoContent: ''\n            };\n        },\n\n        // Here, componentDidMount is a method called automatically by React when a component is rendered.\n        componentDidMount: function() {\n            console.log('componentDidMount');\n            setTimeout(function() {\n                let todos = this.props.todos.map(function(text, index) {\n                    return {\n                        isEditing: false,\n                        textToUpdate: text,\n                        text: text\n                    };\n                });\n\n                this.setState({\n                    title: this.state.todoContent || this.props.todoContentPlaceholder,\n                    todos: todos,\n                    todoContent: this.props.title\n                });\n            }.bind(this), 1000);\n        },\n\n        propTypes: {\n            todos: React.PropTypes.array.isRequired,\n            todoContentPlaceholder: React.PropTypes.string\n        },\n\n        createTodo: function(e) {\n            e.preventDefault();\n            let todoContent = this.state.todoContent.trim();\n\n            if (!todoContent) {\n                return;\n            }\n\n            let todos = this.state.todos;\n\n            todos.push({\n                isEditing: false,\n                textToUpdate: todoContent,\n                text: todoContent\n            });\n\n            this.setState({todos: todos});\n\n            this.resetTitleAndTodoContent();\n        },\n\n        toggleEdit: function(e) {\n            e.preventDefault();\n\n            let index = parseInt(e.target.getAttribute('data-index'), 10);\n\n            this.state.todos[index].isEditing = !this.state.todos[index].isEditing;\n\n            this.setState({\n                todos: this.state.todos\n            });\n        },\n\n        updateEditingText: function(e) {\n            var index = parseInt(e.target.getAttribute('data-index'), 10);\n\n            this.state.todos[index].textToUpdate = e.target.value;\n            this.setState({\n                todos: this.state.todos\n            });\n        },\n\n        updateTodo: function(e) {\n            e.preventDefault();\n\n            let index = parseInt(e.target.getAttribute('data-index'), 10);\n\n            if (!this.state.todos[index].textToUpdate) {\n                this.cancelEdit(index);\n                return false;\n            }\n\n            this.state.todos[index].text = this.state.todos[index].textToUpdate;\n\n            this.setState({\n                todos: this.state.todos\n            });\n\n            this.toggleEdit(e);\n        },\n\n        resetEdit: function(index) {\n            let todo = this.state.todos[index];\n\n            todo.textToUpdate = todo.text;\n            this.state.todos[index] = todo;\n\n            this.setState({\n                todos: this.state.todos\n            });\n        },\n\n        cancelEdit: function(e) {\n            this.resetEdit(parseInt(e.target.getAttribute('data-index'), 10));\n            this.toggleEdit(e);\n        },\n\n        removeTodo: function(e) {\n            this.state.todos.splice(parseInt(e.target.getAttribute('data-index'), 10), 1);\n\n            this.setState({\n                todos: this.state.todos\n            });\n        },\n\n        setTitle: function(e) {\n            this.setState({\n                title: e.target.value.trim() || this.props.todoContentPlaceholder,\n                todoContent: e.target.value\n            });\n        },\n\n        resetTitleAndTodoContent: function() {\n            this.setState({\n                title: this.props.todoContentPlaceholder,\n                todoContent: ''\n            });\n        },\n\n        render: function() {\n            console.log('render');\n            // Code here will be linted with JSHint.\n            /* jshint ignore:start */\n            var _this = this;\n            return (\n                <div>\n                    <h1>Todos count: <span>{this.state.todos.length}</span></h1>\n                    <h2>You're typing: {this.state.title}</h2>\n                    <ul>\n                        {this.state.todos.map(function(todo, index) {\n                            return (\n                                <li key={index}>\n                                    {todo.isEditing ? '' :\n                                        <span>\n                                            <input type=\"submit\" data-index={index} onClick={_this.removeTodo} value=\"Delete\"/>\n                                            <input type=\"submit\" data-index={index} onClick={_this.toggleEdit} value=\"Edit\"/>\n                                            {todo.text}\n                                        </span>\n                                    }\n\n                                    {todo.isEditing ?\n                                        <form data-index={index} onSubmit={_this.updateTodo}>\n                                            <input type=\"text\" data-index={index} value={todo.textToUpdate} onChange={_this.updateEditingText} placeholder={_this.props.todoContentPlaceholder}/>\n                                            <input type=\"submit\" value=\"Update\"/>\n                                            <input type=\"submit\" data-index={index} onClick={_this.cancelEdit} value=\"Cancel\"/>\n                                        </form> : ''\n                                    }\n                                </li>\n                            );\n                        })}\n                    </ul>\n                    <form onSubmit={this.createTodo}>\n                        <input type=\"text\" value={this.state.todoContent} onChange={this.setTitle} placeholder={this.props.todoContentPlaceholder}/>\n                        <input type=\"submit\" value=\"Add a Todo\" />\n                    </form>\n                    <div>{this.props.children}</div>\n                </div>\n            );\n\n            // Code here will be ignored by JSHint.\n            /* jshint ignore:end */\n        }\n    });\n\n    TodoList.defaultProps = {\n        todoContentPlaceholder: 'Default input placeholder'\n    };\n\n    (function() {\n        let data = {\n            todos: [\n                'jQuery',\n                'React',\n                'AngularJS',\n                'Vue.js',\n                'Array.observe()'\n            ],\n\n            todoContentPlaceholder: 'Type some text YEAH'\n        };\n\n        // ReactDOM.render(\n\n        //     // Code here will be linted with JSHint.\n        //     /* jshint ignore:start */\n        //     <TodoList {...data}>Just testing children then transformed to state</TodoList>,\n\n        //     // Code here will be ignored by JSHint.\n        //     /* jshint ignore:end */\n        //     document.getElementById('wrap')\n        // );\n\n        ReactDOM.render(\n            <TodoList {...data}>Just testing children then transformed to state</TodoList>,\n            document.getElementById('wrap')\n        );\n    }());\n}());\n"]}